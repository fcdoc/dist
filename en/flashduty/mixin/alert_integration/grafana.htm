<!doctypehtml><meta charset=UTF-8><link rel="alternate" type="application/rss+xml" hreflang="en" href="/en.rss"><link rel=stylesheet href=//registry.npmmirror.com/18x/latest/files/_.css><script src=//registry.npmmirror.com/18x/latest/files/seo.js></script><link rel=alternate href="https://doc.flashduty.com/flashduty/mixin/alert_integration/grafana" hreflang=x-default><link rel=canonical href="https://doc.flashduty.com/flashduty/mixin/alert_integration/grafana"><link rel=stylesheet href=//registry.npmmirror.com/18x/latest/files/seo.css><link rel=alternate hreflang=en href="https://doc.flashduty.com/en/flashduty/mixin/alert_integration/grafana.htm"><link rel=alternate hreflang=zh href="https://doc.flashduty.com/zh/flashduty/mixin/alert_integration/grafana.htm"><title>Grafana Integration</title><main><article><hr /><h2>brief: Synchronize Grafana alert events to Flashcat through webhooks to achieve automated noise reduction of alert events.</h2><h1>Grafana Integration</h1><p>Synchronize Grafana alert events to Flashduty through webhooks to achieve automated noise reduction of alert events.</p><h2>In Flashduty</h2><p>You can obtain an integration push address through the following two methods. Choose either one.</p><h3>Use Proprietary Integration</h3><p>When you do not need to route alert events to different collaboration spaces, this method is preferred as it is simpler.</p><p>|+| Expand</p><pre><code>1. Enter the Flashduty console, select **Collaboration Space**, and enter the details page of a specific space
2. Select the **Integrated Data** tab, click **Add an Integration**, and enter the Add Integration page
3. Select **Grafana** integration, click **Save**, and generate a card.
4. Click on the generated card to view the **push address**, copy it for later use, and complete the setup.
</code></pre><h3>Use Shared Integration</h3><p>When you need to route alert events to different collaboration spaces based on the payload information, this method is preferred.</p><p>|+| Expand</p><pre><code>1. Enter the Flashduty console, select **Integration Center =&gt; Alert Events**, and go to the integration selection page.
2. Choose **Grafana** integration:
- **Integration Name**: Define a name for the current integration.
3. After clicking **Save**, copy the newly generated **push address** on the current page for later use.
4. Click **Create Route** to configure routing rules for the integration. You can match different alerts to different collaboration spaces based on conditions, or you can set a default collaboration space as a fallback and adjust as needed.
5. Complete.
</code></pre><h2>In Grafana</h2><p>Grafana V4~V8 versions have the Legacy Alerting feature enabled by default, while V9 and later versions have the Grafana Alerting feature enabled by default. For details on the differences and activation methods, please refer to the <a href="https://grafana.com/docs/grafana/v8.4/alerting/unified-alerting/opt-in/#opt-in-to-grafana-alerting">official documentation</a>. Please integrate according to the version you have deployed. The steps are as follows.</p><h3>Legacy Alerting</h3><ol><li>Open your Grafana Console and select Alerting &gt; Notification channels</li><li>Click Add Channel to open the Channel configuration pop-up page</li><li>Configure the name, select webhook for Type, fill in the integrated push address for Url, and select POST for Method, as shown in the figure below:</li></ol><img src="https://fc.3ti.site/zh/flashduty/mixin/alert_integration/grafana/1.avif" alt="drawing" width="600"/><ol start="4"><li>Save, return to the integration list, and wait for an alert to be generated. If the latest event time is displayed, the configuration is successful and the event has been received</li><li>Finish</li></ol><h3>Grafana Alerting</h3><ol><li>Open your Grafana Console and select Alerting &gt; Contact points</li><li>Click New contact point to open the configuration pop-up page</li><li>Configure the name, select webhook for Type, fill in the integrated push address for Url, and select POST for Method, as shown in the figure below:</li></ol><img src="https://fc.3ti.site/zh/flashduty/mixin/alert_integration/grafana/2.avif" alt="drawing" width="600"/><ol start="4"><li>Open the Notification policies page, edit or add a policy as appropriate, and select the contact point created in the previous step as the sending channel, as shown in the following figure:</li></ol><img src="https://fc.3ti.site/zh/flashduty/mixin/alert_integration/grafana/3.avif" alt="drawing" width="600"/><ol start="5"><li>Save, return to the integration list, and wait for an alert to be generated. If the latest event time is displayed, the configuration is successful and the event has been received</li><li>The default alert level is warning. If you need to customize it, you can configure the severity label on the alert details page (for enumeration, please refer to the status comparison below). The specific operation is as shown in the figure below:</li></ol><img src="https://fc.3ti.site/zh/flashduty/mixin/alert_integration/grafana/4.avif" alt="drawing" width="600"/><ol start="7"><li>Finish</li></ol><h2>Status Comparison</h2><p>Legacy Alerting to Flashduty alert level mapping:</p><table><thead><tr><th>Legacy Alerting</th><th>Flashduty</th><th>Status</th></tr></thead><tbody><tr><td>alerting</td><td>Warning</td><td>Average</td></tr><tr><td>no_data</td><td>Critical</td><td>High</td></tr><tr><td>ok</td><td>Ok</td><td>recover</td></tr></tbody></table><p>Grafana Alerting to Flashduty alert level mapping:</p><p>The system sequentially extracts the <code>severity</code>, <code>priority</code>, and <code>level</code> from the alert event tags. The corresponding values will be used as the alert level in Prometheus. If none are extracted, the system automatically sets the Prometheus alert level to <code>warning</code>.</p><table><thead><tr><th>Grafana Alerting</th><th>Flashduty</th><th>Status</th></tr></thead><tbody><tr><td>critical</td><td>Critical</td><td>High</td></tr><tr><td>warning</td><td>Warning</td><td>Average</td></tr><tr><td>warn</td><td>Warning</td><td>Average</td></tr><tr><td>info</td><td>Info</td><td>Disaster</td></tr><tr><td>acknowledged</td><td>Info</td><td>Disaster</td></tr><tr><td>unknown</td><td>Info</td><td>Disaster</td></tr><tr><td>unk</td><td>Info</td><td>Disaster</td></tr><tr><td>ok</td><td>Ok</td><td>recover</td></tr></tbody></table></article><nav><a href="/">doc.flashduty.com</a><a href="/en/flashduty">FlashDuty: One-Stop Alert Response Platform</a></nav><footer><div id="Ft"><b><a class="site" href="//flashcat.cloud"></a><b>Â© FlashCat Cloud</b><b>Site Build By <a class="a" href="https://i18n.site">I18N.SITE</a></b></b><b><a href="//github.com/flashcatcloud">&#xe64c;</a></b></div></footer></main>