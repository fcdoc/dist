<!doctypehtml><meta charset=UTF-8><link rel="alternate" type="application/rss+xml" hreflang="en" href="/en.rss"><link rel=stylesheet href=//registry.npmmirror.com/18x/latest/files/_.css><script src=//registry.npmmirror.com/18x/latest/files/seo.js></script><link rel=alternate href="https://doc.flashduty.com/flashduty/mixin/single_sign_on/keycloak" hreflang=x-default><link rel=canonical href="https://doc.flashduty.com/flashduty/mixin/single_sign_on/keycloak"><link rel=stylesheet href=//registry.npmmirror.com/18x/latest/files/seo.css><link rel=alternate hreflang=en href="https://doc.flashduty.com/en/flashduty/mixin/single_sign_on/keycloak.htm"><link rel=alternate hreflang=zh href="https://doc.flashduty.com/zh/flashduty/mixin/single_sign_on/keycloak.htm"><title>Configuring Single Sign-On with Keycloak</title><main><article><hr /><h2>brief: Configuring Single Sign-On in Keycloak Tutorial</h2><h1>Configuring Single Sign-On with Keycloak</h1><h2>Quick Overview</h2><p>Keycloak is an open-source identity and access management solution that provides a comprehensive set of tools and features to help developers quickly implement secure user authentication and authorization mechanisms while simplifying the identity and access management process for applications</p><blockquote><p>[!NOTE]
This article does not cover the deployment or explanation of Keycloak. For more information, please refer to the <a href="https://www.keycloak.org/">official documentation</a></p></blockquote><h2>Based on the SAML2.0 Protocol</h2><h3>1. Log in to the FlashDuty Console</h3><h4>1.1 Obtain the ACS Address from FlashDuty (Will be used in Step 2)</h4><h4>1.2 Path: Access Control =&gt; Single Sign-On =&gt; Settings =&gt; SAML2.0 Protocol =&gt; Flashcat Service Provider Information =&gt; Assertion Consumer Service URL</h4><p><img src="https://fc.3ti.site/zh/flashduty/mixin/single_sign_on/keycloak/1.avif" alt="" /></p><h3>2. Log in to the Keycloak Console and Create a New Client</h3><h4>2.1 Path: Clients =&gt; Create client</h4><h4>2.2 Client Type: Select SAML Protocol</h4><h4>2.3 Fill in the Client ID: flashcat.cloud (Fixed Value, Cannot Be Changed)</h4><h4>2.4 Valid Redirect URIs: Enter the ACS address obtained from FlashDuty</h4><p><img src="https://fc.3ti.site/zh/flashduty/mixin/single_sign_on/keycloak/2.avif" alt="" /><img src="https://fc.3ti.site/zh/flashduty/mixin/single_sign_on/keycloak/3.avif" alt="" /></p><h3>3. Configure Client Information</h3><h4>3.1 Change the Name ID Format to Email Type</h4><p><img src="https://fc.3ti.site/zh/flashduty/mixin/single_sign_on/keycloak/4.avif" alt="" /></p><h4>3.2 Set Client Signature Required to Off</h4><p><img src="https://fc.3ti.site/zh/flashduty/mixin/single_sign_on/keycloak/5.avif" alt="" /></p><h4>3.3 Create Three Field Types: email/phone/username</h4><blockquote><p>[!NOTE]
Before creating, delete the user from the previous OpenID Connect protocol. After creation, set it to Default
<img src="https://fc.3ti.site/zh/flashduty/mixin/single_sign_on/keycloak/6.avif" alt="" /><img src="https://fc.3ti.site/zh/flashduty/mixin/single_sign_on/keycloak/7.avif" alt="" /></p></blockquote><h4>3.4 Add the Created User to the Client</h4><p><img src="https://fc.3ti.site/zh/flashduty/mixin/single_sign_on/keycloak/8.avif" alt="" /><img src="https://fc.3ti.site/zh/flashduty/mixin/single_sign_on/keycloak/9.avif" alt="" /></p><h4>3.5 Configure Email/Phone/Username Mappers (Example: Email, others follow the same steps)</h4><p><img src="https://fc.3ti.site/zh/flashduty/mixin/single_sign_on/keycloak/10.avif" alt="" /><img src="https://fc.3ti.site/zh/flashduty/mixin/single_sign_on/keycloak/11.avif" alt="" /><img src="https://fc.3ti.site/zh/flashduty/mixin/single_sign_on/keycloak/12.avif" alt="" /></p><h3>4. Download the XML File</h3><blockquote><p>[!NOTE]
The downloaded file is a compressed package. After decompression locally, there will be two xml files. Only the idp-metadata.xml file is needed</p></blockquote><h4>4.1 Download to Local in Client &gt; Actions</h4><p><img src="https://fc.3ti.site/zh/flashduty/mixin/single_sign_on/keycloak/13.avif" alt="" /></p><h4>4.2 Upload the XML File to FlashDuty’s Single Sign-On Configuration</h4><p><img src="https://fc.3ti.site/zh/flashduty/mixin/single_sign_on/keycloak/14.avif" alt="" /></p><h3>5. Create a User in Keycloak and Test Login</h3><h4>5.1 Create a User (Must Bind an Email Address)</h4><p><img src="https://fc.3ti.site/zh/flashduty/mixin/single_sign_on/keycloak/15.avif" alt="" /></p><h4>5.2 Test Login</h4><ul><li>Visit console.flashcat.cloud, select SSO login---Fill in the login domain name prefix in the single sign-on configuration for the domain name</li></ul><p><img src="https://fc.3ti.site/zh/flashduty/mixin/single_sign_on/keycloak/16.avif" alt="" /></p><h2>Based on the OIDC Protocol</h2><h3>1. Log in to the FlashDuty Platform</h3><ul><li>Obtain the Redirect URL from FlashDuty (Will be used in Step 2)</li><li>Path: <strong>Access Control =&gt; Single Sign-On =&gt; Settings =&gt; OIDC Protocol =&gt; Flashcat Service Provider Information =&gt; Redirect URL</strong><img src="https://fc.3ti.site/zh/flashduty/mixin/single_sign_on/keycloak/17.avif" alt="" /></li></ul><h3>2. Log in to the Keycloak Console and Create a New Client</h3><ul><li>Client Type: Select OIDC Protocol</li><li>Client ID: No special requirements</li><li>Client Authentication: Keep it on</li><li>Valid Redirect URIs: Enter the Redirect URL address obtained in Step 1</li></ul><p><img src="https://fc.3ti.site/zh/flashduty/mixin/single_sign_on/keycloak/18.avif" alt="" /><img src="https://fc.3ti.site/zh/flashduty/mixin/single_sign_on/keycloak/19.avif" alt="" /><img src="https://fc.3ti.site/zh/flashduty/mixin/single_sign_on/keycloak/20.avif" alt="" /></p><h3>3. Obtain Client Information</h3><ul><li>Client ID: The ID entered when creating the Client</li><li>Client Secret: <strong>Client Details &gt; Credentials</strong> card</li><li>Issuer: <strong>Realm Settings &gt; Endpoints &gt; OpenID Endpoint Configuration</strong></li></ul><p><img src="https://fc.3ti.site/zh/flashduty/mixin/single_sign_on/keycloak/21.avif" alt="" /><img src="https://fc.3ti.site/zh/flashduty/mixin/single_sign_on/keycloak/22.avif" alt="" /></p><h3>4. FlashDuty Single Sign-On Configuration Style</h3><p><img src="https://fc.3ti.site/zh/flashduty/mixin/single_sign_on/keycloak/23.avif" alt="" /></p><blockquote><p>[!NOTE]
After the configuration based on OIDC is completed, please refer to the Configuring Single Sign-On section for the login test</p></blockquote></article><nav><a href="/">doc.flashduty.com</a><a href="/en/flashduty">FlashDuty: One-Stop Alert Response Platform</a></nav><footer><div id="Ft"><b><a class="site" href="//flashcat.cloud"></a><b>© FlashCat Cloud</b><b>Site Build By <a class="a" href="https://i18n.site">I18N.SITE</a></b></b><b><a href="//github.com/flashcatcloud">&#xe64c;</a></b></div></footer></main>