<!doctypehtml><meta charset=UTF-8><link rel="alternate" type="application/rss+xml" hreflang="zh" href="/zh.rss"><link rel=stylesheet href=//registry.npmmirror.com/18x/latest/files/_.css><script src=//registry.npmmirror.com/18x/latest/files/seo.js></script><link rel=alternate href="https://doc.flashduty.com/flashduty/feature/single_sign_on" hreflang=x-default><link rel=stylesheet href=//registry.npmmirror.com/18x/latest/files/seo.css><link rel=alternate hreflang=en href="https://doc.flashduty.com/en/flashduty/feature/single_sign_on.htm"><link rel=alternate hreflang=zh href="https://doc.flashduty.com/zh/flashduty/feature/single_sign_on.htm"><title>配置单点登录</title><main><article><hr /><h2>brief: 通过单点登录使您能够轻松地集成到各种不同的应用和平台中，实现登录一次，便可访问多个相关联的应用程序和服务</h2><h1>配置单点登录</h1><p>FlashDuty 目前提供 SAML2.0、 OIDC、CAS 和 LDAP(仅私有化版本) 协议的单点登录（SSO）接入，使您能够轻松地集成到各种不同的应用和平台中，这些功能能够帮助您快速实现与其他平台共享身份信息，用户只需在一个平台登录一次，便可访问多个相关联的应用程序和服务，无需为每个应用程序单独进行身份验证，从而提高了工作效率，提高用户体验，简化登录流程，并增强安全性。</p><h2>配置SAML协议</h2><p>配置路径：<strong>访问控制=&gt;单点登录=&gt;开启=&gt;设置=&gt;选中 SAML2.0 协议类型</strong></p><table><thead><tr><th>字段</th><th>描述</th></tr></thead><tbody><tr><td>协议类型</td><td>选择 SAML2.0</td></tr><tr><td>元数据文档</td><td>通过身份提供商获取的 XML 文档</td></tr><tr><td>字段映射</td><td>Flashduty通过映射字段从身份提供商提取出用户邮箱、用户名和手机信息。</td></tr><tr><td>登录域名</td><td>识别身份的重要依据，全局唯一</td></tr><tr><td>登录即创建账号</td><td>默认开启，<strong>如果关闭则需要邀请成员加入后才可以登录</strong></td></tr><tr><td>Flashcat服务提供商信息</td><td><strong>Service Provider Metadata：</strong> <br> <strong>Assertion Consumer Service URL：</strong> 断言地址，用于在身份提供商调用进行单点登录</td></tr></tbody></table><h2>配置OIDC协议</h2><p>配置路径：<strong>访问控制=&gt;单点登录=&gt;开启=&gt;设置=&gt;选中 OIDC 协议类型</strong></p><table><thead><tr><th>字段</th><th>描述</th></tr></thead><tbody><tr><td>协议类型</td><td>选择 OIDC 协议</td></tr><tr><td>Issuer</td><td>从身份提供商获取 Issuer，大小写敏感的URL，不能包含 query 参数</td></tr><tr><td>Client ID</td><td>客户端 ID，从身份提供商获取</td></tr><tr><td>Client Secret</td><td>客户端秘钥，从身份服务商获取</td></tr><tr><td>字段映射</td><td>Flashduty通过映射字段从身份提供商提取出用户邮箱、用户名和手机信息。</td></tr><tr><td>登录域名</td><td>识别身份的重要依据，全局唯一</td></tr><tr><td>登录即创建账号</td><td>默认开启，<strong>如果关闭则需要邀请成员加入后才可以登录</strong></td></tr><tr><td>Flashcat服务提供商信息</td><td><strong>Redirect URL：</strong> 身份提供商回调快猫星云的地址 <br> <strong>支持签名算法：</strong> RS256,RS384,RS512,ES256,ES384,ES512,PS256,PS384,PS512 (不支持HS256)<br><strong>请求scope：</strong> openid, email, phone</td></tr></tbody></table><h2>配置CAS协议</h2><p>配置路径：<strong>访问控制=&gt;单点登录=&gt;开启=&gt;设置=&gt;选中 CAS 协议类型</strong></p><table><thead><tr><th>字段</th><th>描述</th></tr></thead><tbody><tr><td>协议类型</td><td>选择 CAS 协议</td></tr><tr><td>CAS地址</td><td>从身份提供商获取的CAS服务地址</td></tr><tr><td>CAS登录路径</td><td>CAS登录路径</td></tr><tr><td>字段映射</td><td>Flashduty通过映射字段从身份提供商提取出用户邮箱、用户名和手机信息。</td></tr><tr><td>登录域名</td><td>识别身份的重要依据，全局唯一</td></tr><tr><td>登录即创建账号</td><td>默认开启，<strong>如果关闭则需要邀请成员加入后才可以登录</strong></td></tr><tr><td>Flashcat服务提供商信息</td><td><strong>Redirect URL：</strong> 身份提供商回调快猫星云的地址</td></tr></tbody></table><h2>配置LDAP协议</h2><blockquote><p>[!NOTE]
LDAP单点登录，仅 <strong>私有化版本</strong> 支持</p></blockquote><p>配置路径：<strong>访问控制=&gt;单点登录=&gt;开启=&gt;设置=&gt;选中 LDAP 协议类型</strong></p><table><thead><tr><th>字段</th><th>描述</th></tr></thead><tbody><tr><td>协议类型</td><td>选择 LDAP 协议</td></tr><tr><td>LDAP链接</td><td>LDAP服务地址，如：ldap://10.10.10.10:389</td></tr><tr><td>BIND DN</td><td>用于连接 LDAP 的用户名，此用户名将用于测试连接结果和搜索用户或用户组。如，cn=admin,dc=flashduty,dc=com</td></tr><tr><td>BIND DN 密码</td><td>用于连接 LDAP 的密码，该密码将会被加密存储到数据库中。</td></tr><tr><td>TLS</td><td>TLS登录时 Skip Verify</td></tr><tr><td>StartTLS</td><td>是否启用StartTLS</td></tr><tr><td>用户 DN</td><td>定义从哪个目录开始搜索用户，如：ou=people,dc=flashduty,dc=com</td></tr><tr><td>认证过滤</td><td>该条件结合 Bind DN 以及对应的密码进行用户查找，用于检索用户的 DN 信息，结合用户密码进行 Ldap 认证。支持自定义 filter 表达式，基本形式为：(&amp;(mail=%s)) 。注意：开始和结束的括号是必须的。</td></tr><tr><td>字段映射</td><td>Flashduty通过映射字段从身份提供商提取出用户邮箱、用户名和手机信息，邮箱为必填映射字段</td></tr><tr><td>登录域名</td><td>识别身份的重要依据，全局唯一</td></tr><tr><td>登录即创建账号</td><td>默认开启，<strong>如果关闭则需要邀请成员加入后才可以登录</strong></td></tr></tbody></table><blockquote><p>[!NOTE]
字段映射，需要和身份提供商的配置保持一致，否则会导致异常。具体的值根据描述来填充，可以参考<a href="https://docs.flashcat.cloud/zh/flashduty/openldap-integration-guide">OpenLDAP 集成指引</a>进行配置，如果还有问题请联系 FlashDuty 客服。</p></blockquote><h2>最佳实践</h2><p>通过 <a href="/start/overview">Authing 配置</a> FlashDuty 的 SSO 单点登录。
通过 <a href="/start/overview">Keycloak 配置</a> FlashDuty 的 SSO 单点登录。
通过 <a href="/start/overview">Ldap 配置</a> FlashDuty 的 SSO 单点登录。</p><h2>常见问题</h2><p>|+| 什么是SSO单点登录？</p><pre><code>单点登录（SSO）是整合企业系统的解决方案之一，用于统一用户身份认证，用户只需要登录一次就可以访问所有企业相互信任的应用系统。
</code></pre><p>|+| SAML2.0协议特点？</p><pre><code>SAML 2.0协议以XML为基础，通过安全、标准化的声明方式，跨域实现单点登录与身份验证，支持多种数据交换绑定，确保互操作性与灵活性。
</code></pre><p>|+| OIDC协议特点？</p><pre><code>OIDC协议基于OAuth 2.0，提供标准化、安全的身份验证流程，利用JSON Web Tokens传输用户信息，实现跨平台的单点登录与身份管理。
</code></pre><p>|+| CAS协议特点？</p><pre><code>CAS协议是一种用于Web应用的单点登录（SSO）协议，它允许用户在多个服务上使用单一的认证过程，使用服务票据（Service Ticket）和认证票据（Authentication Ticket）来实现服务的认证。
</code></pre><p>|+| LDAP协议特点？</p><pre><code>LDAP协议基于X.500 标准发展而来，数据以树状结构组织，便于数据的层级管理和快速检索，提供了灵活的查询语言（LDAP Search Filter），允许用户根据复杂的条件过滤和搜索数据。
</code></pre><p>|+| 是否支持多种协议接入？</p><pre><code>目前不支持，只能选择一种协议接入
</code></pre></article><nav><a href="/">doc.flashduty.com</a><a href="/zh/flashduty">FlashDuty : 一站式告警响应平台</a></nav><footer><div id="Ft"><b><a class="site" href="//flashcat.cloud"></a><b>© 快猫星云</b><b>文档由<a class="a" href="https://i18n.site">i18n.site</a>构建</b></b><b><a href="//github.com/flashcatcloud">&#xe64c;</a></b></div></footer></main>